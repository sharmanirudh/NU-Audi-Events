<!DOCTYPE html>
<html>
<head>
	<title>NU Audi Events</title>
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="google-signin-client_id" content="1059501399871-hpvsopqhq9ftso9nqjhfc52oqpbq5kft.apps.googleusercontent.com">
</head>
<body id="background">
	<div id="container">
		<div id="idcard_background"></div>
		<div id="phone_idcard" class="swing_image"></div>
		<div id="main_content">
			<div id="header">
				<div id="header_content">
					<div id="header_content_logo">NU Audi <div class="breakline"></div>Events</div>
					<div id="header_content_links">
						<span><a href="">Home</a></span>
						<span><a href="">About Us</a></span>
						<span><a href="">Services</a></span>
						<span><a href="">Contact Us</a></span>
						<button class="button">Get Started</button>
					</div>
				</div>
			</div>
			<div id="login">
				<div id="student_login">
					Student Login
					<div id="my-signin2" class="google_sign_in"></div>
					  	<script>
						    function onSuccess(googleUser) {
						    	var profile = googleUser.getBasicProfile();
				    	        console.log("ID: " + profile.getId()); // Don't send this directly to your server!
				    	        console.log('Full Name: ' + profile.getName());
				    	        console.log('Given Name: ' + profile.getGivenName());
				    	        console.log('Family Name: ' + profile.getFamilyName());
				    	        console.log("Image URL: " + profile.getImageUrl());
				    	        console.log("Email: " + profile.getEmail());
				    	        var url = 'http://127.0.0.1:5000/oauth/student';
				    	        var params = 'email=' + profile.getEmail() + '&name=' + profile.getName() + '&mac=' + 'AB:06:4F:23:B1:AB';
				    	        var xhr = new XMLHttpRequest();
				    	        xhr.open('POST', url, true);
				    	        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
				    	        // xhr.onreadystatechange = function() { // Call a function when the state changes.
				    	        //     if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {// XMLHttpRequest.DONE == 4
				    	        //         // Request finished. Do processing here.
				    	        //     }
				    	        // }
				    	        xhr.send(params);
						    }
						    function onFailure(error) {
						      	console.log(error);
						    }
						    function renderButton() {
						      	gapi.signin2.render('my-signin2', {
							        'scope': 'profile email',
							        'width': 153.6,
							        'height': 32,
							        'longtitle': true,
							        'theme': 'dark',
							        'onsuccess': onSuccess,
							        'onfailure': onFailure,
						      	});
						    }
					  	</script>

					  	<script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>

				</div>
				<div class="divider"></div>
				<div id="faculty_login">
					Faculty Login
					<div>
						<div>
							<input id="faculty_email" type="text" placeholder="Username" name="faculty_username">
						</div>
						<div>
							<input id="faculty_passw" type="password" placeholder="Password" name="faculty_username">
							<button id="login_button">Login</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript">
	var faculty_login_button = document.getElementById("login_button");
	if (faculty_login_button.addEventListener)
		faculty_login_button.addEventListener("click", loginFaculty);

	function loginFaculty() {
		var email = document.getElementById("faculty_email").value;
		var passw = document.getElementById("faculty_passw").value;
		var url = 'http://127.0.0.1:5000/oauth/faculty';
		var params = 'email=' + email + '&passw=' + passw;
		var xhr = new XMLHttpRequest();
		xhr.open('POST', url, true);
		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
		// xhr.onreadystatechange = function() { // Call a function when the state changes.
		//     if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {// XMLHttpRequest.DONE == 4
		//         // Request finished. Do processing here.
		//     }
		// }
		xhr.send(params);
	}
</script>
</html>